# Руководство по разработке

## Начало работы

### 1. Установка Poetry

Проект использует Poetry для управления зависимостями. Если у вас еще не установлен Poetry, установите его:

```bash
pip install poetry
```

После установки убедитесь, что Poetry доступен в PATH:
```bash
poetry --version
```

### 2. Форк и клонирование репозитория

```bash
# Создайте форк репозитория на GitHub
# Затем клонируйте свой форк
git clone https://github.com/V0rtexyz/tplexity.git
cd tplexity
```

### 3. Установка зависимостей

После установки Poetry установите зависимости проекта:

```bash
poetry install
```

### 4. Настройка pre-commit hooks

После установки зависимостей настройте pre-commit hooks:

```bash
poetry run pre-commit install
```

Это обеспечит автоматическую проверку кода при каждом коммите.

## Процесс разработки

### Создание ветки

Создайте отдельную ветку для ваших изменений:

```bash
git checkout -b feature/название-вашей-функции
# или
git checkout -b fix/описание-исправления
```

### Разработка

1. Внесите необходимые изменения в код
2. Убедитесь, что код соответствует стандартам проекта (см. ниже)
3. Добавьте тесты для новой функциональности
4. Обновите документацию при необходимости

### Проверка кода перед коммитом

Перед коммитом убедитесь, что код проходит все проверки:

```bash
# Проверка линтером
poetry run ruff check .

# Автоматическое исправление ошибок
poetry run ruff check --fix .

# Форматирование кода
poetry run ruff format .

# Запуск всех pre-commit hooks вручную
poetry run pre-commit run --all-files
```

### Коммит изменений

Делайте осмысленные коммиты с понятными сообщениями:

```bash
git add .
git commit -m "feat: добавлена новая функция X"
```

### Push и создание Pull Request

```bash
git push origin feature/название-вашей-функции
```

После этого создайте Pull Request на GitHub.

## Стандарты кода

### Линтинг и форматирование

Проект использует Ruff для линтинга и форматирования. Конфигурация находится в `pyproject.toml`.

Основные правила:
- Максимальная длина строки: 120 символов
- Используются правила: E, W, F, I, B, C, UP, S
- Игнорируются: E501 (длина строки), E741 (неоднозначные имена переменных)

### Типизация

Используйте аннотации типов для всех функций и методов:

```python
def process_data(data: list[str]) -> dict[str, int]:
    ...
```